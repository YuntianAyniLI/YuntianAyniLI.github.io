<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>李韵天 | Yuntian LI</title>
    
    <style>
    /* ================= 字体加载 ================= */
    @font-face {
        font-family: 'ZYSongKeBen';
        /* 确保路径正确 */
        src: url('fonts/ZYSongKeBen.otf') format('opentype');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
    }

    /* ================= 全局变量 ================= */
    :root {
        --theme-purple: #500650; /* 深紫色：主色调 */
        --theme-red: #d43628;    /* 朱红色：用于鱼尾和标点 */
        --paper-bg: #fdfbf7;     /* 仿宣纸底色 */
        --line-width: 1px;       /* 细线宽 */
        --border-width: 4px;     /* 粗线宽 */
        --char-spacing: 0.35em;  /* 字间距 */
    }

    body {
        margin: 0;
        padding: 0;
        background-color: var(--paper-bg); 
        font-family: 'ZYSongKeBen', "Times New Roman", serif;
        /* 强制横向滚动 */
        overflow-x: auto; 
        overflow-y: hidden; 
        height: 100vh;
        display: flex;
        align-items: center; 
        justify-content: center; 
    }

    /* ================= 页面容器 (The Paper) ================= */
    .ancient-page {
        height: 90vh; 
        aspect-ratio: 1.414 / 1; /* 保持 A4 横向比例 */
        background-color: var(--paper-bg);
        margin: auto; 
        position: relative; /* 作为绝对定位的参考坐标系 */
        
        /* 外粗框 */
        border: var(--border-width) solid var(--theme-purple); 
        box-sizing: border-box;
    }

    /* ================= 内边框 (绝对定位) ================= */
    .inner-border {
        position: absolute;
        top: 12px; bottom: 12px; left: 12px; right: 12px;
        border: var(--line-width) solid var(--theme-purple); 
        
        /* 核心排版：竖排从右向左 */
        writing-mode: vertical-rl; 
        text-orientation: upright; 
        
        padding: 4vh 6vh; /* 增加内边距，让文字呼吸 */
        
        font-size: 2.0vh; /* 字号适中 */
        line-height: 2.5; /* 行距宽阔，容纳旁注标点 */
        letter-spacing: var(--char-spacing); 
        color: black;    
    }

    /* ================= 版心 (Fish-tail Banxin) ================= */
    /* 模拟《庄子注疏》的鱼尾版心 */
    .banxin-wrapper {
        /* 在竖排流中，作为一个块级元素 */
        height: 100%;
        display: flex;
        flex-direction: column; /* 内部变为垂直布局，从上到下绘制鱼尾 */
        align-items: center;
        justify-content: center; /* 垂直居中 */
        margin-left: 4em; 
        margin-right: 4em;
        
        /* 这里不需要 border，border 在内部元素画 */
    }

    /* 鱼尾版心容器：细长矩形 */
    .banxin-container {
        width: 1.2em; /* 宽度固定 */
        height: 70%;  /* 高度占据页面的大部分 */
        border: 1px solid var(--theme-purple); /* 细实线框 */
        display: flex;
        flex-direction: column;
        justify-content: space-between; /* 上下鱼尾撑开，中间是字 */
        align-items: center;
        padding: 2px 0;
    }

    /* 鱼尾 (The Fish Tail) - CSS绘制三角形 */
    .fish-tail {
        width: 0;
        height: 0;
        border-left: 0.6em solid transparent;
        border-right: 0.6em solid transparent;
        /* 调整形状 */
    }

    /* 上鱼尾：倒三角，指向内 */
    .fish-tail.top {
        border-top: 0.8em solid var(--theme-red);
        margin-top: 1em; /* 距离顶框的距离 */
    }

    /* 下鱼尾：正三角，指向内 */
    .fish-tail.bottom {
        border-bottom: 0.8em solid var(--theme-red);
        margin-bottom: 1em; /* 距离底框的距离 */
    }

    /* 版心文字 */
    .banxin-text {
        writing-mode: vertical-rl; /* 确保文字是竖着的 */
        font-size: 1.2em;
        font-weight: bold;
        color: var(--theme-purple);
        letter-spacing: 0.5em;
    }

    /* ================= 文本样式 ================= */
    .section-title {
        font-weight: bold;
        font-size: 1.3em;
        color: var(--theme-purple);
        margin: 0;
        margin-left: 1em; 
        display: inline-block;
    }

    a {
        text-decoration: none;
        color: black;
        transition: color 0.3s;
    }
    a:hover {
        color: var(--theme-purple);
    }

    /* 双行夹注 */
    .ge-zhu {
        display: inline-block;
        font-size: 0.6em; 
        line-height: 1.2;
        color: var(--theme-purple);
        vertical-align: middle;
        margin: 0 0.2em; 
    }

    /* ================= 旁注标点 (Side-note Punctuation) ================= */
    /* 核心逻辑：绝对定位，不占位，悬挂在左侧 */
    .punct-wrapper {
        position: relative; /* 给标点提供锚点 */
        display: inline;    /* 保持在文本流中 */
        width: 0;           /* 不占宽度 */
        height: 0;          /* 不占高度 */
    }

    .punct {
        position: absolute;
        font-family: "SimSun", "Songti SC", serif; /* 使用宋体以获得标准的顿号形状 */
        color: var(--theme-red);
        font-weight: bold;
        
        /* 定位调整：vertical-rl 中，left 是视觉上的左侧（下一行方向） */
        left: -0.7em; /* 向左偏移，挂在两行之间 */
        top: 0.2em;   /* 垂直微调，对齐上一字 */
        
        /* 标点不换行 */
        white-space: nowrap;
        pointer-events: none; /* 不干扰鼠标点击 */
    }

    /* 顿号：实心、大 */
    .punct-dun {
        font-size: 1.0em; /* 调大 */
        transform: scale(1.5); /* 再次放大确保视觉冲击 */
    }

    /* 句号：小、圆 */
    .punct-period {
        font-size: 0.6em; /* 调小 */
        top: 0.4em;       /* 位置微调 */
        /* 空心圆通常字体自带，如果不行可用 CSS border-radius 模拟 */
    }

    /* ================= 女书切换按钮 (绝对左侧) ================= */
    .switch-btn-container {
        position: absolute; /* 绝对定位 */
        left: 20px;         /* 靠纸张最左边 */
        bottom: 20px;       /* 靠纸张最下边 */
        z-index: 10;
        
        /* 不参与 flex 布局，独立存在 */
        writing-mode: horizontal-tb; /* 图片恢复水平容器 */
    }

    .switch-img {
        width: 3.5vw;
        max-width: 70px;
        cursor: pointer;
        opacity: 0.8;
        transition: opacity 0.3s;
        border: 2px solid transparent;
    }
    .switch-img:hover {
        opacity: 1;
        border: 2px solid var(--theme-purple);
    }

    /* ================= 移动端适配 ================= */
    @media screen and (max-aspect-ratio: 1/1) {
        body {
            justify-content: flex-start; /* 允许左侧滑动 */
        }
        .ancient-page {
            height: 80vh;      
            aspect-ratio: 1.414 / 1;
            margin: 0 20px; 
            box-shadow: 0 0 10px rgba(0,0,0,0.1); 
        }
        .inner-border {
            font-size: 1.8vh;
            padding: 2vh;
        }
        .switch-img {
            width: 8vw;
        }
        .banxin-wrapper {
            margin-left: 2em; margin-right: 2em;
        }
    }
    </style>
</head>
<body>

    <div class="ancient-page">
        
        <div class="inner-border" id="text-content">
            
            <div style="margin-left: 1em;">
                <span class="section-title">你好</span>
                <br><br>
                <span>
                    目前是斯德哥尔摩大学经济学博士生。
                    <span class="ge-zhu">此处为<br>个人简介</span>
                    在此之前，我于2024年获得中国人民大学经济学（金融方向）
                    <span class="ge-zhu">及<br>数学</span>
                    学士学位，并于2024/2025学年在斯德哥尔摩经济学院攻读经济学硕士项目。
                </span>
                <br><br>
                <span>
                    我的研究兴趣在于政治经济学与宏观定量分析。
                </span>
            </div>

            <div class="banxin-wrapper">
                <div class="banxin-container">
                    <div class="fish-tail top"></div>
                    
                    <div class="banxin-text">李韵天</div>
                    
                    <div class="fish-tail bottom"></div>
                </div>
            </div>

            <div style="margin-left: 1em;">
                <span class="section-title">创作</span>
                <br><br>
                
                <div>
                    <a href="#">** 项目标题壹 **</a>
                    <br>
                    <span class="ge-zhu">
                        此处为项目壹的简短摘要<br>
                        关于宏观经济模型的讨论
                    </span>
                </div>
            </div>
            
            </div> <div class="switch-btn-container">
            <a href="index.html">
                <img src="https://raw.githubusercontent.com/YuntianAyniLI/YuntianAyniLI.github.io/main/NametaginNyuShu.png" alt="English Version" class="switch-img">
            </a>
        </div>

    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const container = document.getElementById('text-content');
            
            // 递归遍历替换文本
            function stylePunctuation(node) {
                if (node.nodeType === 3) { // 文本节点
                    const text = node.nodeValue;
                    // 匹配逗号(，)和句号(。)
                    const regex = /([，。])/g;
                    
                    if (regex.test(text)) {
                        const fragment = document.createDocumentFragment();
                        let lastIndex = 0;
                        
                        text.replace(regex, function(match, char, index) {
                            // 1. 添加标点前的文字
                            const prevText = text.slice(lastIndex, index);
                            if (prevText) fragment.appendChild(document.createTextNode(prevText));
                            
                            // 2. 创建标点 wrapper
                            const wrapper = document.createElement('span');
                            wrapper.className = 'punct-wrapper';
                            
                            const punctSpan = document.createElement('span');
                            punctSpan.className = 'punct';
                            
                            // 逻辑：逗号变顿号，句号变小圈
                            if (char === '，') {
                                punctSpan.textContent = '、'; // 强制替换为顿号
                                punctSpan.classList.add('punct-dun');
                            } else if (char === '。') {
                                punctSpan.textContent = '。'; // 保持句号字符，样式控制大小
                                punctSpan.classList.add('punct-period');
                            }
                            
                            wrapper.appendChild(punctSpan);
                            fragment.appendChild(wrapper);
                            
                            lastIndex = index + 1;
                        });
                        
                        // 3. 添加剩余文字
                        const remainingText = text.slice(lastIndex);
                        if (remainingText) fragment.appendChild(document.createTextNode(remainingText));
                        
                        node.parentNode.replaceChild(fragment, node);
                    }
                } else if (node.nodeType === 1 && node.nodeName !== 'SCRIPT' && node.nodeName !== 'STYLE' && node.nodeName !== 'A') {
                    // 递归处理，跳过链接内部避免打断（如果链接内有标点可移除 A 的限制）
                    Array.from(node.childNodes).forEach(stylePunctuation);
                }
            }
            stylePunctuation(container);
        });
    </script>
</body>
</html>
